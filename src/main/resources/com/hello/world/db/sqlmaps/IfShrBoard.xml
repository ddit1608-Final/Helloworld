<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"  "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="IfShrBoard">
	<typeAlias alias="str" type="java.lang.String" />
	<typeAlias alias="int" type="java.lang.Integer" />
	<typeAlias alias="ifshrboard" type="com.hello.world.dto.IfShrBoardVO" />
	<typeAlias alias="testVo" type="com.hello.world.dto.testVO" />

	<!-- <select id="listIfShrBoard" parameterClass="str" resultClass="ifshrboard">
		select * from ifshrboard where mem_mail =#mem_mail#
	</select>-->

<!-- 	<select id="getIfShrBoard" parameterClass="str" resultClass="ifshrboard" >
		select * from ifshrboard where
		ifshrboard_posting_no=#ifshrboard_posting_no#
	</select>  -->

	<select id="listAllIfShrBoard" parameterClass="str" resultClass="ifshrboard">
		select * from memifshr where ifshrboard_posting_no order by ifshrboard_posting_no asc
	</select>

	<select id="totalIfShrBoard" parameterClass="testVo" resultClass="int">
		select count(*) from memifshr where $type$ like '%'||#key#||'%'
	</select>
	
	<update id="insertIfShrBoard" parameterClass="ifshrboard">
		insert into ifshrboard(ifshrboard_posting_no,mem_mail,ifshrboard_title,ifshrboard_cont,ifshrboard_pwd)
			values(ifshrboard_posting_no.nextval,#mem_mail#,#ifshrboard_title#,#ifshrboard_cont#,#ifshrboard_pwd#)
	</update>
	<select id="ifShrBoardDetail" parameterClass="str" resultClass="ifshrboard">
		select * from memifshr where ifshrboard_posting_no=#ifshrboard_posting_no# 
	</select>
	
	<update id="updateIfShrBoard" parameterClass="ifshrboard">
		update 
			ifshrboard
		set 
			ifshrboard_cont=#ifshrboard_cont#
		where
			ifshrboard_posting_no=#ifshrboard_posting_no# 
	</update>
	
	<delete id="deleteIfShrBoard" parameterClass="str">
		delete
		from ifshrboard
		where ifshrboard_posting_no=#ifshrboard_posting_no#
	</delete>
	
	<update id="updateHits" parameterClass="ifshrboard">
	UPDATE 
		ifshrboard 
	SET 
		ifshrboard_hits = #ifshrboard_hits#+1 
	WHERE 
		ifshrboard_posting_no=#ifshrboard_posting_no#
	</update>
	
	<!-- <select id="getBoardByTitle" parameterClass="str" resultClass="ifshrboard">
		select * from ifshrboard where ifshrboard_title like'%'||#key#||'%'
	</select>  -->
	
	<select id="getBoardByTitle" parameterClass="testVo" resultClass="ifshrboard">
		select * from memifshr where $type$ like'%'||#key#||'%' order by ifshrboard_posting_no asc
	</select> 	
	
	
	
	
	
	

</sqlMap>
